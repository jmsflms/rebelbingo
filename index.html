<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rebel Bingo Experience</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --girlsTop: 8vh;

      /* Hotspot orbit positions */
      --bingoX: 64%;
      --bingoY: 34%;
      --musicX: 30%;
      --musicY: 60%;

      /* Sizes */
      --bingoW: min(520px, 70vw);
      --musicW: min(320px, 48vw);
    }

    html, body{
      margin:0; padding:0;
      width:100%; height:100%;
      overflow:hidden;
      background:#000;
      font-family: serif;
    }

    #stage{
      position:relative;
      width:100vw; height:100vh;
      overflow:hidden;
      background:#000;
    }

    /* BACKGROUND VIDEO */
    #bgVideo{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:0;
      pointer-events:none;
      filter: brightness(0.85) contrast(1.1) saturate(1.05);
    }

    /* slight shade so assets read */
    #shade{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,0.15);
      z-index:1;
      pointer-events:none;
    }

    /* FOREGROUND */
    #fg{
      position:absolute;
      inset:0;
      z-index:2;
    }

    #scene{
      position:absolute;
      inset:0;
    }

    /* SHOWGIRL */
    #girl{
      position:absolute;
      left:50%;
      top:var(--girlsTop);
      transform:translateX(-50%);
      height:min(82vh, 720px);
      width:auto;
      z-index:3;
      user-select:none;
      -webkit-user-drag:none;
      filter: drop-shadow(0 18px 34px rgba(0,0,0,0.55));
      will-change: transform, opacity;
    }

    /* ========== HOTSPOTS ========== */

    /* container movement + placement */
    .hotspot{
      position:absolute;
      z-index:5;
      cursor:pointer;
      user-select:none;
      -webkit-user-drag:none;
      transform-origin:center;
      will-change: transform;
      /* movement only (DO NOT put filter animation here) */
      animation: floaty 2.2s ease-in-out infinite;
      filter: drop-shadow(0 12px 22px rgba(0,0,0,0.6));
    }

    .hotspot img{
      display:block;
      width:100%;
      height:auto;
      pointer-events:none;
      opacity:0.96;
      will-change: transform, filter, opacity;
      /* glitch + neon live on the IMG (the pixels) */
      animation:
        glitch 0.35s steps(2,end) infinite,
        neonRGB 1.2s linear infinite;
      mix-blend-mode: screen;
    }

    /* Place hotspots around the girl */
    #bingoLink{
      left: var(--bingoX);
      top:  var(--bingoY);
      width: var(--bingoW);
      transform: translate(-50%, -50%) rotate(-2deg);
      animation-duration: 1.9s; /* floaty speed */
    }

    #musicLink{
      left: var(--musicX);
      top:  var(--musicY);
      width: var(--musicW);
      transform: translate(-50%, -50%) rotate(3deg);
      animation-duration: 2.6s; /* floaty speed */
    }

    /* Hover: bigger + stronger glow (applies to the IMG pixels) */
    .hotspot:hover{ transform: translate(-50%, -50%) scale(1.06) rotate(var(--rot, 0deg)); }
    .hotspot:hover img{
      filter:
        brightness(1.7) contrast(1.25)
        sepia(1) saturate(18) hue-rotate(0deg)
        drop-shadow(0 0 14px rgba(255, 80, 255, 0.95))
        drop-shadow(0 0 28px rgba(80, 255, 255, 0.75));
      opacity: 1;
    }

    @keyframes floaty{
      0%   { transform: translate(-50%, -50%) rotate(var(--rot, 0deg)) translateY(0px) scale(1); }
      50%  { transform: translate(-50%, -50%) rotate(var(--rot, 0deg)) translateY(-12px) scale(1.02); }
      100% { transform: translate(-50%, -50%) rotate(var(--rot, 0deg)) translateY(0px) scale(1); }
    }

    /* Glitch effect */
    @keyframes glitch{
      0%   { transform: translate(0,0); opacity: 0.95; }
      12%  { transform: translate(2px,-1px); opacity: 0.85; }
      24%  { transform: translate(-2px,1px); opacity: 0.96; }
      36%  { transform: translate(3px,0); opacity: 0.78; }
      48%  { transform: translate(-3px,0); opacity: 0.98; }
      60%  { transform: translate(1px,2px); opacity: 0.88; }
      72%  { transform: translate(-1px,-2px); opacity: 0.98; }
      84%  { transform: translate(2px,1px); opacity: 0.84; }
      100% { transform: translate(0,0); opacity: 0.95; }
    }

    /* Neon RGB cycle:
       Key point: sepia+saturate creates colour from monochrome so hue-rotate works */
    @keyframes neonRGB{
      0%   { filter: brightness(1.3) contrast(1.2) sepia(1) saturate(16) hue-rotate(0deg); }
      33%  { filter: brightness(1.3) contrast(1.2) sepia(1) saturate(16) hue-rotate(120deg); }
      66%  { filter: brightness(1.3) contrast(1.2) sepia(1) saturate(16) hue-rotate(240deg); }
      100% { filter: brightness(1.3) contrast(1.2) sepia(1) saturate(16) hue-rotate(360deg); }
    }

    /* Mobile tweaks */
    @media (max-width: 520px){
      :root{
        --girlsTop: 6vh;
        --bingoX: 66%;
        --bingoY: 36%;
        --musicX: 30%;
        --musicY: 66%;
        --bingoW: min(460px, 92vw);
        --musicW: min(280px, 78vw);
      }
      #girl{ height:min(80vh, 620px); }
    }
  </style>
</head>

<body>
  <div id="stage">
    <video id="bgVideo" autoplay muted loop playsinline preload="auto">
      <source src="video/spiral.mp4" type="video/mp4" />
    </video>
    <div id="shade"></div>

    <div id="fg">
      <div id="scene">

        <img id="girl" src="sprites/1.png" alt="Showgirl">

        <a id="bingoLink" class="hotspot" href="bingo.html" aria-label="Go to Bingo page" style="--rot:-2deg">
          <img id="bingoImg" src="hotspot/1.png" alt="Bingo">
        </a>

        <a id="musicLink" class="hotspot" href="music.html" aria-label="Go to Music page" style="--rot:3deg">
          <img id="musicImg" src="hotspot/musichotspot/music1.png" alt="Music">
        </a>

      </div>
    </div>
  </div>

  <script>
    /* VIDEO: force play; click-to-unlock fallback */
    (function(){
      const v = document.getElementById('bgVideo');
      if (!v) return;
      v.muted = true;
      const tryPlay = () => v.play().catch(() => {});
      document.addEventListener('click', tryPlay, { once: true });
      tryPlay();
    })();

    /* GIRL CYCLE (include your new sprites like 3a/5a/8a/10a) */
    const girl = document.getElementById("girl");
    const girlFrames = [
      "sprites/1.png",
      "sprites/2.png",
      "sprites/3.png",
      "sprites/3a.png",
      "sprites/4.png",
      "sprites/5.png",
      "sprites/5a.png",
      "sprites/6.png",
      "sprites/7.png",
      "sprites/8.png",
      "sprites/8a.png",
      "sprites/9.png",
      "sprites/10.png",
      "sprites/10a.png"
    ];
    girlFrames.forEach(src => { const im = new Image(); im.src = src; });

    let girlIdx = 0;
    setInterval(() => {
      if (!girl) return;
      const skip = Math.random() < 0.22 ? 2 : 1;
      girlIdx = (girlIdx + skip) % girlFrames.length;
      girl.src = girlFrames[girlIdx];

      const jx = (Math.random() * 6 - 3);
      const jy = (Math.random() * 6 - 3);
      girl.style.transform = `translateX(-50%) translate(${jx}px, ${jy}px)`;
      girl.style.opacity = (Math.random() < 0.08) ? "0.85" : "1";
    }, 120);

    /* MUSIC HOTSPOT CYCLE (single location; cycles music1..music5 fast) */
    const musicImg = document.getElementById("musicImg");
    const musicFrames = [
      "hotspot/musichotspot/music1.png",
      "hotspot/musichotspot/music2.png",
      "hotspot/musichotspot/music3.png",
      "hotspot/musichotspot/music4.png",
      "hotspot/musichotspot/music5.png"
    ];
    musicFrames.forEach(src => { const im = new Image(); im.src = src; });

    let musicIdx = 0;
    setInterval(() => {
      if (!musicImg) return;
      musicIdx = (musicIdx + 1) % musicFrames.length;
      musicImg.src = musicFrames[musicIdx];
    }, 140);

    /* BINGO HOTSPOT CYCLE (your hotspot/1..4) */
    const bingoImg = document.getElementById("bingoImg");
    const bingoFrames = [
      "hotspot/1.png",
      "hotspot/2.png",
      "hotspot/3.png",
      "hotspot/4.png"
    ];
    bingoFrames.forEach(src => { const im = new Image(); im.src = src; });

    let bingoIdx = 0;
    setInterval(() => {
      if (!bingoImg) return;
      bingoIdx = (bingoIdx + 1 + Math.floor(Math.random()*2)) % bingoFrames.length;
      bingoImg.src = bingoFrames[bingoIdx];
    }, 200);
  </script>
</body>
</html>
